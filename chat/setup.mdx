---
title: "Chat Setup"
icon: "hammer"
---

## Installation

<Note>
  Installing In-App Chat will involve adding code to your Frontend. It may be
  necessary to involve an engineer to get this installed if you don't have
  access to the codebase.
</Note>

<Steps>
  <Step title="Getting Started">
Grab your `APP_ID` [here](https://app.usepylon.com/workflows/in-app-chat).
  </Step>

    <Step title="Add Script to Body">
Add the following `<script>` to right before the `</body>` tag in your `index.html`.

Maks sure to replace the `APP_ID` with the `APP_ID` you grabbed from Step 1. 
```markup
<script>
(function(){var w=window;var d=document;var c=function(){var s=d.createElement("script");s.setAttribute("type","text/javascript");s.setAttribute("async","true");s.setAttribute("src","https://widget.usepylon.com/widget/APP_ID");var s0=d.getElementsByTagName("script")[0];s0.parentNode.insertBefore(s,s0);};if(d.readyState==="complete"){c();}else if(w.addEventListener){w.addEventListener("load",c,false);}})();
</script>
```

  </Step>
  <Step title="Enable the Chat Widget">
Anywhere in your React code you can access the `window` object and set the `pylon` config.

You should add this code whereever the user has already logged in and details like the User's email, name, etc. become available.

```js
window.pylon = {
  chat_settings: {
    app_id: "APP_ID",
    email: "USER_EMAIL",
    name: "USER_FULL_NAME",

    // (Optional) If you have the user's profile image available through something like Auth0
    avatar_url: "USER_PROFILE_IMAGE_URL",

    // (Optional) If you are using Pylon's identity verification
    email_hash: "USER_EMAIL_HASH",
  },
};
```

Example usage in a React component:
```js
useEffect(() => {
    if (user.loggedIn) {
        window.pylon = {
            chat_settings: {
                app_id: APP_ID,
                email: user.email,
                name: user.fullName,
                avatar_url: user.profileImgUrl,
            },
        };
    }
}, [user]);
```
  </Step>

<Step title="Setup Chat Support Alerts Channel">
    Create a Slack channel in your workspace called `#chat-support`. 
    
    Note: If you make this channel private, add the Pylon bot to the channel.

    Set `#chat-support` as your Chat Support Channel [here](https://app.usepylon.com/workflows/in-app-chat).
</Step>

<Step title="Chat Widget Color">
  Set the color of your chat widget [here](https://app.usepylon.com/workflows/in-app-chat).
</Step>


<Step title="All Done" icon={check}>
  Set the color of your chat widget [here](https://app.usepylon.com/workflows/in-app-chat).
</Step>
</Steps>

### Content Security Policy

  If you have a CSP, you will need to allowlist `*.usepylon.com`,
  `*.posthog.com`, and `*.pusher.com`. For context, we use PostHog for product
  metrics and Pusher for sending chat messages in realtime.

